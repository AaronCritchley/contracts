
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API for specifying contracts &#8212; PyContracts 1.7.16 documentation</title>
    <link rel="stylesheet" href="static/classic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.7.16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
	 

   <meta name="google-site-verification" content="Wu274srIjeOWKp_9iWmydewgQsd8zyTuNSYFZ36fQd4" />

   <style type="text/css">
  div.col1 {
    display: block;
    float: left;
  }
  div.brief-summary { display: none;}
  div.col2 {
    margin-left: 3em;
    display: block;
    float: left;
  }

   </style>

<!--<link  href="http://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css" >
<link  href="http://fonts.googleapis.com/css?family=Droid+Serif" rel="stylesheet" type="text/css" >
<link  href="static/pycontracts.css" rel="stylesheet" type="text/css" >-->



  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PyContracts 1.7.16 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="col1 docutils container">
<p><strong>User documentation</strong></p>
<ul class="simple">
<li><a class="reference internal" href="index.html#introduction"><span class="std std-ref">Introduction to PyContracts</span></a></li>
<li><a class="reference internal" href="tour.html#quick-tour"><span class="std std-ref">Quick tour</span></a></li>
<li>Reference:<ul>
<li><a class="reference internal" href="#api"><span class="std std-ref">API for specifying contracts</span></a></li>
<li><a class="reference internal" href="contractsmeta.html#contractsmeta"><span class="std std-ref">Using the ContractsMeta meta-class</span></a></li>
<li><a class="reference internal" href="new_contract.html#new-contract"><span class="std std-ref">Creating new contracts using new_contract</span></a></li>
</ul>
</li>
<li><a class="reference internal" href="reference.html#contracts-language-reference"><span class="std std-ref">Language reference</span></a></li>
</ul>
</div>
<div class="col2 docutils container">
<p><strong>Developer documentation</strong></p>
<ul class="simple">
<li><a class="reference internal" href="changelog.html#the-changelog"><span class="std std-ref">Changelog</span></a></li>
<li><a class="reference internal" href="overhead.html#overhead"><span class="std std-ref">PyContracts overhead in production and in testing</span></a></li>
<li><a class="reference internal" href="api_reference.html#api-reference"><span class="std std-ref">PyContracts public API reference</span></a></li>
<li><a class="reference internal" href="api_lowlevel.html#api-lowlevel"><span class="std std-ref">PyContracts low-level API</span></a></li>
<li><a class="reference internal" href="credits.html#credits"><span class="std std-ref">Credits</span></a></li>
</ul>
</div>
<div style="clear:left"/><div class="section" id="api-for-specifying-contracts">
<span id="api"></span><h1>API for specifying contracts<a class="headerlink" href="#api-for-specifying-contracts" title="Permalink to this headline">¶</a></h1>
<p>This is a discussion of the <span class="brand">PyContracts</span> API.</p>
<ul class="simple">
<li>See <a class="reference internal" href="api_reference.html#module-contracts" title="contracts"><code class="xref py py-mod docutils literal"><span class="pre">contracts</span></code></a> for a detailed list of this module’s public interface.</li>
<li>See <a class="reference internal" href="reference.html#contracts-language-reference"><span class="std std-ref">Language reference</span></a> for a description of the domain specific language
used to describe the contracts.</li>
</ul>
<div class="section" id="using-the-contract-decorator">
<h2>Using the <code class="docutils literal"><span class="pre">&#64;contract</span></code> decorator.<a class="headerlink" href="#using-the-contract-decorator" title="Permalink to this headline">¶</a></h2>
<p>The decorator <a class="reference internal" href="api_reference.html#module-contracts" title="contracts"><code class="xref py py-func docutils literal"><span class="pre">contracts()</span></code></a> is the main way to
define constraints. It is quite flexible, and it is smart enough
to support functions with variable number of arguments and keyword arguments.</p>
<p>There are three ways to specify the contracts. In order of precedence:</p>
<ul class="simple">
<li>As arguments to this decorator.</li>
<li>As Python 3 function annotations.</li>
<li>Using <code class="docutils literal"><span class="pre">:type:</span></code> and <code class="docutils literal"><span class="pre">:rtype:</span></code> tags in the function’s docstring.</li>
</ul>
<p><span class="brand">PyContracts</span> will try these options in order. Note that, in any case,
only one of these options are chosen. For example, you cannot
use both annotations and docstring for the same function: if annotations
are found, the docstring is not considered.</p>
<div class="section" id="using-decorator-arguments">
<h3>Using decorator arguments<a class="headerlink" href="#using-decorator-arguments" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal"><span class="pre">contract()</span></code> accepts a list of keyword arguments.
Each keyword should correspond to one function argument, plus
the special name <code class="docutils literal"><span class="pre">returns</span></code> is reserved for describing the return value.
An example use would be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contracts</span> <span class="k">import</span> <span class="n">contract</span>

<span class="nd">@contract</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;int,&gt;0&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;list[N],N&gt;0&#39;</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="s1">&#39;list[N]&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The values can be either:</p>
<ul>
<li><p class="first">Strings using <span class="brand">PyContracts</span>’ DSL language (see <a class="reference internal" href="reference.html#contracts-language-reference"><span class="std std-ref">Language reference</span></a>)</p>
</li>
<li><p class="first">Python types — in this case <span class="brand">PyContracts</span> will do a simple <a class="reference external" href="https://docs.python.org/2/library/functions.html#isinstance" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">isinstance()</span></code></a> check.
This is slightly more clear if the contract is simple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nd">@contract</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="using-python-annotations">
<h3>Using Python annotations<a class="headerlink" href="#using-python-annotations" title="Permalink to this headline">¶</a></h3>
<p>The same rules apply. In this case the syntax would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contracts</span> <span class="k">import</span> <span class="n">contract</span>

<span class="nd">@contract</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="s1">&#39;int,&gt;0&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="s1">&#39;list[N],N&gt;0&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;list[N]&#39;</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="using-functions-docstrings">
<h3>Using functions docstrings<a class="headerlink" href="#using-functions-docstrings" title="Permalink to this headline">¶</a></h3>
<p>The Python standard library seems to have standardized on the <code class="docutils literal"><span class="pre">:param:</span></code>, <code class="docutils literal"><span class="pre">:type:</span></code>,
<code class="docutils literal"><span class="pre">:return:</span></code>, <code class="docutils literal"><span class="pre">:rtype:</span></code> tags to document functions, and tools like Sphinx
can interpret those tags to produce pretty documentation.</p>
<p><span class="brand">PyContracts</span> can read contracts declared using the <code class="docutils literal"><span class="pre">:type:</span></code> and <code class="docutils literal"><span class="pre">:rtype:</span></code> tags.
In this way, your function becomes automatically more robust and better documented.</p>
<p>Here is an example use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contracts</span> <span class="k">import</span> <span class="n">contract</span>

<span class="nd">@contract</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot; Function description.</span>

<span class="sd">      :param a: first number</span>
<span class="sd">      :type a: int,&gt;0</span>
<span class="sd">      :param b: description of b</span>
<span class="sd">      :type b: list[N],N&gt;0</span>

<span class="sd">      :return: a list</span>
<span class="sd">      :rtype: list[N]               &quot;&quot;&quot;</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>By convention, those annotations must be parsable as
reStructuredText.
If the contract string has special RST characters in it, like <code class="docutils literal"><span class="pre">*</span></code>,
you can include it in double ticks. <span class="brand">PyContracts</span> will remove
the double ticks before interpreting the string.</p>
<p>For example, the two annotations in this docstring are equivalent
for <span class="brand">PyContracts</span>, but the latter is better for Sphinx:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; My function</span>

<span class="sd">    :param a: First parameter</span>
<span class="sd">    :type a: list(tuple(str,*))</span>

<span class="sd">    :param b: First parameter</span>
<span class="sd">    :type b: ``list(tuple(str,*))``</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="col1 docutils container">
<p><strong>User documentation</strong></p>
<ul class="simple">
<li><a class="reference internal" href="index.html#introduction"><span class="std std-ref">Introduction to PyContracts</span></a></li>
<li><a class="reference internal" href="tour.html#quick-tour"><span class="std std-ref">Quick tour</span></a></li>
<li>Reference:<ul>
<li><a class="reference internal" href="#api"><span class="std std-ref">API for specifying contracts</span></a></li>
<li><a class="reference internal" href="contractsmeta.html#contractsmeta"><span class="std std-ref">Using the ContractsMeta meta-class</span></a></li>
<li><a class="reference internal" href="new_contract.html#new-contract"><span class="std std-ref">Creating new contracts using new_contract</span></a></li>
</ul>
</li>
<li><a class="reference internal" href="reference.html#contracts-language-reference"><span class="std std-ref">Language reference</span></a></li>
</ul>
</div>
<div class="col2 docutils container">
<p><strong>Developer documentation</strong></p>
<ul class="simple">
<li><a class="reference internal" href="changelog.html#the-changelog"><span class="std std-ref">Changelog</span></a></li>
<li><a class="reference internal" href="overhead.html#overhead"><span class="std std-ref">PyContracts overhead in production and in testing</span></a></li>
<li><a class="reference internal" href="api_reference.html#api-reference"><span class="std std-ref">PyContracts public API reference</span></a></li>
<li><a class="reference internal" href="api_lowlevel.html#api-lowlevel"><span class="std std-ref">PyContracts low-level API</span></a></li>
<li><a class="reference internal" href="credits.html#credits"><span class="std std-ref">Credits</span></a></li>
</ul>
</div>
<div style="clear:left"/></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API for specifying contracts</a><ul>
<li><a class="reference internal" href="#using-the-contract-decorator">Using the <code class="docutils literal"><span class="pre">&#64;contract</span></code> decorator.</a><ul>
<li><a class="reference internal" href="#using-decorator-arguments">Using decorator arguments</a></li>
<li><a class="reference internal" href="#using-python-annotations">Using Python annotations</a></li>
<li><a class="reference internal" href="#using-functions-docstrings">Using functions docstrings</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PyContracts 1.7.16 documentation</a> &#187;</li> 
      </ul>
    </div>
	
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010, Andrea Censi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
	
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-155626-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

    


  </body>
</html>