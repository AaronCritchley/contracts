<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>contracts.main</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="contracts-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://github.com/AndreaCensi/contracts">PyContracts</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="contracts-module.html">Package&nbsp;contracts</a> ::
        Module&nbsp;main
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="contracts.main-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module main</h1><p class="nomargin-top"><span class="codelink"><a href="contracts.main-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="contracts.main.Storage-class.html" class="summary-name">Storage</a>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="can_accept_exactly_one_argument"></a><span class="summary-sig-name">can_accept_exactly_one_argument</span>(<span class="summary-sig-arg">callable_thing</span>)</span><br />
      Checks that a callable can accept exactly one argument
using introspection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#can_accept_exactly_one_argument">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="can_accept_self_plus_one_argument"></a><span class="summary-sig-name">can_accept_self_plus_one_argument</span>(<span class="summary-sig-arg">callable_thing</span>)</span><br />
      Checks that a callable can accept exactly self plus one argument
using introspection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#can_accept_self_plus_one_argument">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#can_be_used_as_a_type" class="summary-sig-name">can_be_used_as_a_type</a>(<span class="summary-sig-arg">x</span>)</span><br />
      Checks that x can be used as a type; specifically,
we can write isintance(y,x).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#can_be_used_as_a_type">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#check" class="summary-sig-name">check</a>(<span class="summary-sig-arg">contract</span>,
        <span class="summary-sig-arg">object</span>,
        <span class="summary-sig-arg">desc</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">**context</span>)</span><br />
      Checks that <tt class="rst-docutils literal">object</tt> satisfies the contract
described by <tt class="rst-docutils literal">contract</tt>.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#check">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">type(Context)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#check_contracts" class="summary-sig-name">check_contracts</a>(<span class="summary-sig-arg">contracts</span>,
        <span class="summary-sig-arg">values</span>,
        <span class="summary-sig-arg">context_variables</span>=<span class="summary-sig-default">None</span>)</span><br />
      Checks that the values respect the contract.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#check_contracts">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#check_multiple" class="summary-sig-name">check_multiple</a>(<span class="summary-sig-arg">couples</span>,
        <span class="summary-sig-arg">desc</span>=<span class="summary-sig-default">None</span>)</span><br />
      Checks multiple couples of (contract, value) in the same context.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#check_multiple">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#contract_decorator" class="summary-sig-name">contract_decorator</a>(<span class="summary-sig-arg">*arg</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Decorator for adding contracts to functions.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#contract_decorator">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#contracts_decorate" class="summary-sig-name">contracts_decorate</a>(<span class="summary-sig-arg">function</span>,
        <span class="summary-sig-arg">modify_docstring</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      An explicit way to decorate a given function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#contracts_decorate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="fail"></a><span class="summary-sig-name">fail</span>(<span class="summary-sig-arg">contract</span>,
        <span class="summary-sig-arg">value</span>,
        <span class="summary-sig-arg">**initial_context</span>)</span><br />
      Raises an exception if it does.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#fail">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_all_arg_names"></a><span class="summary-sig-name">get_all_arg_names</span>(<span class="summary-sig-arg">function</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#get_all_arg_names">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_annotations"></a><span class="summary-sig-name">get_annotations</span>(<span class="summary-sig-arg">function</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#get_annotations">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#new_contract" class="summary-sig-name">new_contract</a>(<span class="summary-sig-arg">*args</span>)</span><br />
      Defines a new contract type.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#new_contract">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="new_contract_impl"></a><span class="summary-sig-name">new_contract_impl</span>(<span class="summary-sig-arg">identifier</span>,
        <span class="summary-sig-arg">condition</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#new_contract_impl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="parse_contract_string"></a><span class="summary-sig-name">parse_contract_string</span>(<span class="summary-sig-arg">string</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#parse_contract_string">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="parse_contracts_from_docstring"></a><span class="summary-sig-name">parse_contracts_from_docstring</span>(<span class="summary-sig-arg">function</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#parse_contracts_from_docstring">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="contracts.main-module.html#parse_flexible_spec" class="summary-sig-name">parse_flexible_spec</a>(<span class="summary-sig-arg">spec</span>)</span><br />
      spec can be either a Contract, a type, or a contract string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="contracts.main-pysrc.html#parse_flexible_spec">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'contracts'"><code class="variable-quote">'</code><code class="variable-string">contracts</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="contract_expression"></a><span class="summary-name">contract_expression</span> = <code title="contract">contract</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="contracts.main-module.html#identifier_expression" class="summary-name">identifier_expression</a> = <code title="Combine:({Re:('[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ]'\
) W:(_abc...)})">Combine:({Re:('[abcdefghijklmnopqrstuv<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="inPy2"></a><span class="summary-name">inPy2</span> = <code title="True">True</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="inPy3k"></a><span class="summary-name">inPy3k</span> = <code title="False">False</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="can_be_used_as_a_type"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">can_be_used_as_a_type</span>(<span class="sig-arg">x</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#can_be_used_as_a_type">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Checks that x can be used as a type; specifically,
we can write isintance(y,x).
Here we support old-style classes.
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="check"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check</span>(<span class="sig-arg">contract</span>,
        <span class="sig-arg">object</span>,
        <span class="sig-arg">desc</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">**context</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#check">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Checks that <tt class="rst-rst-docutils literal rst-docutils literal">object</tt> satisfies the contract
described by <tt class="rst-rst-docutils literal rst-docutils literal">contract</tt>.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>contract</code></strong> (str) - The contract string.</li>
        <li><strong class="pname"><code>object</code></strong> (<tt class="rst-docutils literal">*</tt>) - Any object.</li>
        <li><strong class="pname"><code>desc</code></strong> (<tt class="rst-docutils literal">None|str</tt>) - An optional description of the error. If given,
it is included in the error message.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="check_contracts"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_contracts</span>(<span class="sig-arg">contracts</span>,
        <span class="sig-arg">values</span>,
        <span class="sig-arg">context_variables</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#check_contracts">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Checks that the values respect the contract.
Not a public function -- no friendly messages.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>contracts</code></strong> (<tt class="rst-docutils literal"><span class="pre">list[N](str),N&gt;0</span></tt>) - List of contracts.</li>
        <li><strong class="pname"><code>values</code></strong> (<tt class="rst-docutils literal">list[N]</tt>) - Values that should match the contracts.</li>
        <li><strong class="pname"><code>context_variables</code></strong> (<tt class="rst-docutils literal">dict(str[1]: *)</tt>) - Initial context</li>
    </ul></dd>
    <dt>Returns: type(Context)</dt>
        <dd>a Context variable</dd>
  </dl>
</td></tr></table>
</div>
<a name="check_multiple"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_multiple</span>(<span class="sig-arg">couples</span>,
        <span class="sig-arg">desc</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#check_multiple">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks multiple couples of (contract, value) in the same context.</p>
<p>This means that the variables in each contract are shared with
the others.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>couples</code></strong> (<tt class="rst-docutils literal"><span class="pre">list[&gt;0](tuple(str,</span> *))</tt>) - A list of tuple (contract, value) to check.</li>
        <li><strong class="pname"><code>desc</code></strong> (<tt class="rst-docutils literal">None|str</tt>) - An optional description of the error. If given,
it is included in the error message.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="contract_decorator"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">contract_decorator</span>(<span class="sig-arg">*arg</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#contract_decorator">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Decorator for adding contracts to functions.

It is smart enough to support functions with variable number of 
arguments and keyword arguments.

There are three ways to specify the contracts. In order of precedence:

- As arguments to this decorator. For example: ::

      @contract(a='int,&gt;0',b='list[N],N&gt;0',returns='list[N]')
      def my_function(a, b):
          # ...
          pass

- As annotations (supported only in Python 3): ::

      @contract
      def my_function(a:'int,&gt;0', b:'list[N],N&gt;0') -&gt; 'list[N]': 
          # ...
          pass

- Using ``:type:`` and ``:rtype:`` tags in the function's docstring: ::

      @contract
      def my_function(a, b): 
          &quot;&quot;&quot; Function description.
              :type a: int,&gt;0
              :type b: list[N],N&gt;0
              :rtype: list[N]
          &quot;&quot;&quot;
          pass

**Signature and docstrings**: The signature of the decorated
function is conserved. By default, the docstring is modified
by adding ``:type:`` and ``:rtype:`` definitions. To avoid that,
pass ``modify_docstring=False`` as a parameter.

         
**Contracts evaluation**: Note that all contracts for the arguments 
and the return values
are evaluated in the same context. This make it possible to use
common variables in the contract expression. For example, in the 
example above, the return value is constrained to be a list of the same 
length (``N``) as the parameter ``b``. 

**Using docstrings** Note that, by convention, those annotations must 
be parseable as RestructuredText. This is relevant if you are using 
Sphinx.
If the contract string has special RST characters in it, like ``*``,
you can include it in double ticks. |pycontracts| will remove
the double ticks before interpreting the string.
  
For example, the two annotations in this docstring are equivalent
for |pycontracts|, but the latter is better for Sphinx: ::
   
      &quot;&quot;&quot; My function 
      
          :param a: First parameter
          :type a: list(tuple(str,*))
          
          :param b: First parameter
          :type b: ``list(tuple(str,*))``
      &quot;&quot;&quot;

:raise: ContractException, if arguments are not coherent 
:raise: ContractSyntaxError

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="contracts_decorate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">contracts_decorate</span>(<span class="sig-arg">function</span>,
        <span class="sig-arg">modify_docstring</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#contracts_decorate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
An explicit way to decorate a given function.
The decorator :py:func:`decorate` calls this function internally. 

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="new_contract"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">new_contract</span>(<span class="sig-arg">*args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#new_contract">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Defines a new contract type. Used both as a decorator and as 
a function.

**1) Use as a function.** The first parameter must be a string. 
The second parameter can be either
a string or a callable function.  ::

    new_contract('new_contract_name', 'list[N]') 
    new_contract('new_contract_name', lambda x: isinstance(x, list) )
    
- If it is a string, it is interpreted as contract expression; 
  the given identifier will become an alias
  for that expression. 
  
- If it is a callable, it must accept one parameter, and either:
  
  * return True or None, to signify it accepts.
  
  * return False or raise ValueError or AssertionError, 
    to signify it doesn't.
  
  If ValueError is raised, its message is used in the error.

**2) Use as a decorator.**

Or, it can be used as a decorator (without arguments).
The function name is used as the identifier. ::

    @new_contract
    def new_contract_name(x):
        return isinstance(x, list)

  
This function returns a :py:class:`Contract` object. It might be
useful to check right away if the declaration is what you meant,
using :py:func:`Contract.check` and :py:func:`Contract.fail`.  

:param identifier: The identifier must be a string not already in use
                  (you cannot redefine ``list``, ``tuple``, etc.).
:type identifier: str 

:param condition: Definition of the new contract.
:type condition: ``type|callable|str``

:return: The equivalent contract -- might be useful for debugging.
:rtype: Contract

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="parse_flexible_spec"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">parse_flexible_spec</span>(<span class="sig-arg">spec</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="contracts.main-pysrc.html#parse_flexible_spec">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  spec can be either a Contract, a type, or a contract string.
In the latter case, the usual parsing takes place
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="identifier_expression"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">identifier_expression</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
Combine:({Re:('[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ]'<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
) W:(_abc...)})
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="contracts-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://github.com/AndreaCensi/contracts">PyContracts</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sat Feb 25 23:37:50 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
